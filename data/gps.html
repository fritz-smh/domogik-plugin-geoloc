<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
        <meta charset="utf-8" />
        <title>Geoloc example</title>
        <style>
                #map { width:300px; height:300px; }
        </style>
        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
</head>
<body>
        <p>Just wait for the pop up (it may take a few seconds).</p>
        <div id="map"></div>
        <script>
                if (navigator.geolocation) {
                        var timeoutVal = 10 * 1000 * 1000;
                        navigator.geolocation.getCurrentPosition(
                                displayPosition, 
                                displayError,
                                { enableHighAccuracy: true, timeout: timeoutVal, maximumAge: 0 }
                        );
                }
                else {
                        alert("Geolocation is not supported by this browser");
                }
                function displayPosition(position) {
                        alert('longitude : ' + position.coords.longitude + '\nlatitude : ' + position.coords.latitude + 
'\naccuracy : ' + position.coords.accuracy); 
                }
                function displayError(error) {
                        var errors = { 
                                1: 'Permission denied',
                                2: 'Position unavailable',
                                3: 'Request timeout'
                        };
                        alert("Error: " + errors[error.code]);
                }
        </script>
</body>
</html>

